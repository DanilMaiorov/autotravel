!function(){var e,t={179:function(e,t,s){"use strict";s(973);console.log("calc"),(()=>{const e=document.querySelector(".select__cars"),t=document.querySelector(".select__classes-list"),s=document.querySelector(".select__cars-list"),n=document.querySelector(".start"),a=(document.querySelectorAll(".select__classes-list-item"),document.querySelector(".select__classes-button")),l=document.querySelector(".select__cars-button");let c=document.querySelector(".calculator__fields-day-price--span"),r=document.querySelector(".calculator__fields-guarantie--span");const o=document.querySelector(".select__input-class"),i=document.querySelector(".select__input-price"),u=document.querySelector(".select__input-guarantie"),v=document.querySelector(".day-input"),d=document.querySelector(".calculator__button"),_=document.querySelector(".calculator__fields-total--span"),f=()=>{o.value="",i.value="",u.value="",_.textContent="",c.textContent="",r.textContent="",v.value=1};a.addEventListener("click",(c=>{c.stopPropagation(),t.classList.toggle("select__classes-list--visible"),t.classList.add("select__classes-button--active"),s.classList.remove("select__cars-list--visible"),s.classList.remove("select__cars-button--active");const r=document.querySelectorAll(".select__classes-list-item");f(),r.forEach((s=>{s.addEventListener("click",(s=>{a.innerText=s.target.innerText,l.innerText=n.innerText,f(),a.focus(),o.value=s.target.dataset.class,t.classList.remove("select__classes-list--visible"),o.value?e.classList.add("select__cars--visible"):(e.classList.remove("select__cars--visible"),f())}))}))})),document.addEventListener("click",(e=>{e.target!==a&&(t.classList.remove("select__classes-list--visible"),t.classList.remove("select__classes-button--active")),e.target!==l&&(s.classList.remove("select__cars-list--visible"),s.classList.remove("select__cars-button--active"))})),v.addEventListener("input",(()=>{v.value<3&&""!==i.value&&(c.textContent=`${i.value} ₽`),v.value>3&&v.value<=6&&"business"!==o.value&&""!==i.value&&(c.textContent=+i.value-100+" ₽"),v.value>6&&v.value<=14&&"business"!==o.value&&""!==i.value&&(c.textContent=+i.value-200+" ₽"),v.value>14&&"business"!==o.value&&""!==i.value&&(c.textContent=+i.value-300+" ₽"),v.value>3&&v.value<=6&&"business"===o.value&&(c.textContent=+i.value-200+" ₽"),v.value>6&&v.value<=14&&"business"===o.value&&(c.textContent=+i.value-400+" ₽"),v.value>14&&"business"===o.value&&(c.textContent=+i.value-600+" ₽")})),d.addEventListener("click",(()=>{let e=c.textContent.substring(0,c.textContent.length-1).trim(),t=r.textContent.substring(0,r.textContent.length-1).trim();console.log(c.textContent),console.log(r.textContent),""!==c.textContent&&""!==r.textContent&&""!==v.value?(_.textContent=+t+ +e*+v.value+" ₽",console.log(_.textContent)):_.textContent=""})),(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()})("../db/db.json").then((e=>{const v=new Set,d=new Set;e.forEach((e=>{v.add(e.rate),d.add(e.rateName)})),((e,s)=>{Array.from(e).forEach(((e,n)=>{const a=document.createElement("li");a.setAttribute("data-class",e),a.classList.add("select__classes-list-item"),a.innerHTML=`${Array.from(s)[n]}`,t.append(a)}))})(v,d),a.nextElementSibling.addEventListener("click",(t=>{(e=>{let t=[];s.innerHTML="",s.append(n),t=e.filter((e=>e.rate==o.value)),console.log(t),t.forEach((e=>{const t=document.createElement("li");t.classList.add("select__cars-list-item"),t.setAttribute("data-price",e.price),t.setAttribute("data-guarantie",e.guarantie),t.innerHTML=`${e.name}, ${e.year} года`,s.append(t)})),l.addEventListener("click",(e=>{s.classList.add("select__cars-list--visible"),s.classList.add("select__cars-button--active"),document.querySelectorAll(".select__cars-list-item").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),l.innerText=e.target.innerText,l.focus(),c.textContent=`${e.target.dataset.price} ₽`,r.textContent=`${e.target.dataset.guarantie} ₽`,i.value=e.target.dataset.price,u.value=e.target.dataset.guarantie,s.classList.remove("select__cars-list--visible")}))}))}))})(e)}))}))})()},868:function(){},777:function(){},830:function(){},209:function(){},414:function(){}},s={};function n(e){var a=s[e];if(void 0!==a)return a.exports;var l=s[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=function(t,s,a,l){if(!s){var c=1/0;for(u=0;u<e.length;u++){s=e[u][0],a=e[u][1],l=e[u][2];for(var r=!0,o=0;o<s.length;o++)(!1&l||c>=l)&&Object.keys(n.O).every((function(e){return n.O[e](s[o])}))?s.splice(o--,1):(r=!1,l<c&&(c=l));if(r){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[s,a,l]},n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={954:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,l,c=s[0],r=s[1],o=s[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(o)var u=o(n)}for(t&&t(s);i<c.length;i++)l=c[i],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},s=self.webpackChunkstart_project=self.webpackChunkstart_project||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var a=n.O(void 0,[973],(function(){return n(179)}));a=n.O(a)}();
//# sourceMappingURL=calculator.a8bc29c869ecbf86d41a.js.map